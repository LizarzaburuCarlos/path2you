---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import fetchApi from '../../../lib/strapi';
import Lecture from '../../../interfaces/lecture';
import {LecturesUI} from '../../../components/LecturesUI';

export async function getStaticPaths() {
  const lectures = await fetchApi<Lecture[]>({
    endpoint: "lectures",
    wrappedByKey: "data",
  });
  
  return lectures.map((lecture) => ({
    params: { slug: lecture.attributes.slug },
    props: lecture,
  }));
}


type Props = Lecture;

const lecture = Astro.props;
---

<BaseLayout title={`Lectura: ${lecture.attributes.title}`}>
    <LecturesUI lecture={lecture} client:load />
</BaseLayout>